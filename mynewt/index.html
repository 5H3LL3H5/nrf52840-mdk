



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Micro Development Kit for IoT Applications using nRF52840 SoC">
      
      
        <link rel="canonical" href="https://wiki.makerdiary.com/nrf52840-mdk/mynewt/">
      
      
        <meta name="author" content="makerdiary">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.7.3">
    
    
      
        <title>Mynewt - nRF52840-MDK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.c61db26e.css">
      
    
    
      <script src="../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="marsala" data-md-color-accent="marsala">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#mynewt-an-os-to-build-deploy-and-securely-manage-billions-of-devices" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://wiki.makerdiary.com/nrf52840-mdk/" title="nRF52840-MDK Documentation" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                nRF52840-MDK Documentation
              </span>
              <span class="md-header-nav__topic">
                Mynewt
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/makerdiary/nrf52840-mdk" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      makerdiary/nrf52840-mdk
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Introduction" class="md-tabs__link md-tabs__link--active">
        Introduction
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../cn/" title="中文文档" class="md-tabs__link">
          中文文档
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/logo.svg" width="48" height="48">
      
    </span>
    nRF52840-MDK Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/makerdiary/nrf52840-mdk" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      makerdiary/nrf52840-mdk
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nrf5-sdk/" title="nRF5 SDK" class="md-nav__link">
      nRF5 SDK
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mesh/" title="nRF5 SDK for Mesh" class="md-nav__link">
      nRF5 SDK for Mesh
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../openthread/" title="OpenThread" class="md-nav__link">
      OpenThread
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mbedos/" title="Arm Mbed OS" class="md-nav__link">
      Arm Mbed OS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../zephyr/" title="Zephyr" class="md-nav__link">
      Zephyr
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Mynewt
      </label>
    
    <a href="./" title="Mynewt" class="md-nav__link md-nav__link--active">
      Mynewt
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#newt" title="Newt" class="md-nav__link">
    Newt
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-macos" title="Installing Newt on macOS" class="md-nav__link">
    Installing Newt on macOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-linux" title="Installing Newt on Linux" class="md-nav__link">
    Installing Newt on Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-windows" title="Installing Newt on Windows" class="md-nav__link">
    Installing Newt on Windows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blinky-on-nrf52840-mdk" title="Blinky on nRF52840-MDK" class="md-nav__link">
    Blinky on nRF52840-MDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-your-first-project" title="Create Your First Project" class="md-nav__link">
    Create Your First Project
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-project" title="Creating a New Project" class="md-nav__link">
    Creating a New Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetching-external-packages" title="Fetching External Packages" class="md-nav__link">
    Fetching External Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-targets" title="Creating the Targets" class="md-nav__link">
    Creating the Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-target-executables" title="Building the Target Executables" class="md-nav__link">
    Building the Target Executables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-the-images" title="Loading the images" class="md-nav__link">
    Loading the images
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-other-mynewt-os-features" title="Explore other Mynewt OS Features" class="md-nav__link">
    Explore other Mynewt OS Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-issue" title="Create an Issue" class="md-nav__link">
    Create an Issue
  </a>
  
</li>
      
      
      
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../daplink/" title="DAPLink" class="md-nav__link">
      DAPLink
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how-to-buy/" title="How to Buy" class="md-nav__link">
      How to Buy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CONTRIBUTING/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LICENSE/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      中文文档
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        中文文档
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/" title="简介" class="md-nav__link">
      简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/getting-started/" title="快速入门" class="md-nav__link">
      快速入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/nrf5-sdk/" title="nRF5 SDK" class="md-nav__link">
      nRF5 SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mesh/" title="nRF5 SDK for Mesh" class="md-nav__link">
      nRF5 SDK for Mesh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/openthread/" title="OpenThread" class="md-nav__link">
      OpenThread
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mbedos/" title="Arm Mbed OS" class="md-nav__link">
      Arm Mbed OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/zephyr/" title="Zephyr" class="md-nav__link">
      Zephyr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mynewt/" title="Mynewt" class="md-nav__link">
      Mynewt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/daplink/" title="DAPLink" class="md-nav__link">
      DAPLink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/how-to-buy/" title="如何购买" class="md-nav__link">
      如何购买
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/CONTRIBUTING/" title="反馈&贡献" class="md-nav__link">
      反馈&贡献
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/LICENSE/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#newt" title="Newt" class="md-nav__link">
    Newt
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-macos" title="Installing Newt on macOS" class="md-nav__link">
    Installing Newt on macOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-linux" title="Installing Newt on Linux" class="md-nav__link">
    Installing Newt on Linux
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-newt-on-windows" title="Installing Newt on Windows" class="md-nav__link">
    Installing Newt on Windows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blinky-on-nrf52840-mdk" title="Blinky on nRF52840-MDK" class="md-nav__link">
    Blinky on nRF52840-MDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-your-first-project" title="Create Your First Project" class="md-nav__link">
    Create Your First Project
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-project" title="Creating a New Project" class="md-nav__link">
    Creating a New Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetching-external-packages" title="Fetching External Packages" class="md-nav__link">
    Fetching External Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-targets" title="Creating the Targets" class="md-nav__link">
    Creating the Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-target-executables" title="Building the Target Executables" class="md-nav__link">
    Building the Target Executables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-the-images" title="Loading the images" class="md-nav__link">
    Loading the images
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-other-mynewt-os-features" title="Explore other Mynewt OS Features" class="md-nav__link">
    Explore other Mynewt OS Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-issue" title="Create an Issue" class="md-nav__link">
    Create an Issue
  </a>
  
</li>
      
      
      
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="mynewt-an-os-to-build-deploy-and-securely-manage-billions-of-devices">Mynewt <br><small>An OS to build, deploy and securely manage billions of devices</small><a class="headerlink" href="#mynewt-an-os-to-build-deploy-and-securely-manage-billions-of-devices" title="Permanent link">&para;</a></h1>
<p><a href="http://mynewt.apache.org"><img alt="" src="./images/mynewt-logo.png" /></a></p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Apache Mynewt is an operating system that makes it easy to develop applications for microcontroller environments where power and cost are driving factors. Examples of these devices are connected locks, lights, and wearables.</p>
<p>As more and more devices get connected, these interconnected devices perform complex tasks. To perform these tasks, you need low-level operational functionality built into the operating system. Typically, connected devices built with these microcontrollers perform a myriad of functions:</p>
<ul>
<li>
<p>Networking Stacks: Bluetooth Low Energy and Thread</p>
</li>
<li>
<p>Peripherals: PWM to drive motors, ADCs to measure sensor data, and RTCs to keep time.</p>
</li>
<li>
<p>Scheduled Processing: actions must happen on a calendared or periodic basis.</p>
</li>
</ul>
<p>Apache Mynewt accomplishes all the above easily, by providing a complete operating system for constrained devices, including:</p>
<ul>
<li>
<p>A fully open-source Bluetooth Low Energy stack with both Host and Controller implementations.</p>
</li>
<li>
<p>A pre-emptive, multi-tasking Real Time operating system kernel</p>
</li>
<li>
<p>A Hardware Abstraction Layer (HAL) that abstracts the MCU's peripheral functions, allowing developers to easily write cross-platform code.</p>
</li>
</ul>
<h2 id="newt">Newt<a class="headerlink" href="#newt" title="Permanent link">&para;</a></h2>
<p>In order to provide all this functionality, and operate in an extremely low resource environment, Mynewt provides a very fine-grained source package management and build system tool, called <code>newt</code>.</p>
<p>You can install newt for <a href="#installing-newt-on-macos">macOS</a>, <a href="#installing-newt-on-linux">Linux</a>, or <a href="#installing-newt-on-windows">Windows</a>.</p>
<h3 id="installing-newt-on-macos">Installing Newt on macOS<a class="headerlink" href="#installing-newt-on-macos" title="Permanent link">&para;</a></h3>
<p>Newt is supported on macOS 64 bit platforms and has been tested on macOS Sierra.</p>
<p>If this is your first time installing newt, add the <code>runtimeco/homebrew-mynewt</code> tap:</p>
<div class="codehilite"><pre><span></span>$ brew tap runtimeco/homebrew-mynewt
$ brew update
</pre></div>

<p>Run the following command to install the latest release version of newt:</p>
<div class="codehilite"><pre><span></span>$ brew update
$ brew install mynewt-newt
</pre></div>

<h3 id="installing-newt-on-linux">Installing Newt on Linux<a class="headerlink" href="#installing-newt-on-linux" title="Permanent link">&para;</a></h3>
<p>Run the following commands to upgrade or install the latest version of newt:</p>
<div class="codehilite"><pre><span></span>$ sudo apt-get update
$ sudo apt-get install newt
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you encounter build errors (such as missing <code>sys/mman.h</code>), please make sure you have a 32-bit glibc:
<div class="codehilite"><pre><span></span>$ sudo apt-get install gcc-multilib
</pre></div></p>
</div>
<h3 id="installing-newt-on-windows">Installing Newt on Windows<a class="headerlink" href="#installing-newt-on-windows" title="Permanent link">&para;</a></h3>
<p>On Windows, we use MSYS2 as the development environment to build and run Mynewt OS applications for target boards. You can do so by performing the following steps:</p>
<p><a href="http://www.msys2.org/"><button data-md-color-primary="indigo">Download</button></a></p>
<ol>
<li>
<p>Download and run the installer - "x86_64" for 64-bit, "i686" for 32-bit Windows.</p>
</li>
<li>
<p>Update the package database and core system packages with:</p>
<div class="codehilite"><pre><span></span>$ pacman -Syu
</pre></div>

</li>
<li>
<p>If needed, close MSYS2, run it again from Start menu. Update the rest with:</p>
<div class="codehilite"><pre><span></span>$ pacman -Su
</pre></div>

</li>
<li>
<p>Install dependencies:</p>
<div class="codehilite"><pre><span></span>$ pacman -S git tar
</pre></div>

</li>
<li>
<p>Download and unpack the newt source:</p>
<div class="codehilite"><pre><span></span>$ wget -P /tmp https://github.com/apache/mynewt-newt/archive/mynewt_1_3_0_tag.tar.gz
$ tar -xzf /tmp/mynewt_1_3_0_tag.tar.gz
</pre></div>

</li>
<li>
<p>Run the <code>build.sh</code> to build the newt tool.</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> mynewt-newt-mynewt_1_3_0_tag   
$ ./build.sh
$ rm /tmp/mynewt_1_3_0_tag.tar.gz
</pre></div>

</li>
<li>
<p>You should see the <code>newt/newt.exe</code> executable. Move the executable to a bin directory in your PATH:</p>
<div class="codehilite"><pre><span></span>$ mv newt/newt.exe /usr/bin
</pre></div>

</li>
</ol>
<h2 id="blinky-on-nrf52840-mdk">Blinky on nRF52840-MDK<a class="headerlink" href="#blinky-on-nrf52840-mdk" title="Permanent link">&para;</a></h2>
<p>Now you can try to build one of the examples. Will use the <code>blinky</code> example here to keep it simple.</p>
<p>Open terminal and change directory to:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> ./nrf52840-mdk/examples/mynewt/blinky
</pre></div>

<p>Install project dependencies using the <code>newt install</code> command:</p>
<div class="codehilite"><pre><span></span>blinky$ newt install
apache-mynewt-core successfully installed version <span class="m">0</span>.0.0-none
mynewt_nrf52840_mdk successfully installed version <span class="m">0</span>.0.0-none
</pre></div>

<p>Several targets are already created for the Blinky application. You can run the <code>newt target show</code> command to verify the target settings:</p>
<div class="codehilite"><pre><span></span>blinky$ newt target show
targets/my_blinky_sim
    <span class="nv">app</span><span class="o">=</span>apps/blinky
    <span class="nv">bsp</span><span class="o">=</span>@apache-mynewt-core/hw/bsp/native
    <span class="nv">build_profile</span><span class="o">=</span>debug
targets/nrf52_blinky
    <span class="nv">app</span><span class="o">=</span>apps/blinky
    <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
    <span class="nv">build_profile</span><span class="o">=</span>debug
targets/nrf52_boot
    <span class="nv">app</span><span class="o">=</span>@apache-mynewt-core/apps/boot
    <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
    <span class="nv">build_profile</span><span class="o">=</span>optimized
</pre></div>

<p>Now you can try to build the target executables.</p>
<p>Run the <code>newt build nrf52_boot</code> command to build the bootloader:</p>
<div class="codehilite"><pre><span></span>blinky$ newt build nrf52_boot
Building target targets/nrf52_boot
Compiling repos/apache-mynewt-core/boot/bootutil/src/image_ec256.c
Compiling repos/apache-mynewt-core/boot/bootutil/src/image_ec.c
Compiling repos/apache-mynewt-core/apps/boot/src/boot.c
Compiling repos/apache-mynewt-core/boot/bootutil/src/bootutil_misc.c
Compiling repos/apache-mynewt-core/boot/bootutil/src/image_rsa.c
Compiling repos/apache-mynewt-core/boot/bootutil/src/image_validate.c
Compiling repos/apache-mynewt-core/boot/bootutil/src/loader.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/aes.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/aesni.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/arc4.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/asn1parse.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/asn1write.c
Compiling repos/apache-mynewt-core/crypto/mbedtls/src/base64.c
...
Archiving nrf52_boot-sysinit-app.a
Archiving sys_flash_map.a
Archiving sys_mfg.a
Archiving sys_sysinit.a
Archiving util_mem.a
Linking /makerdiary/nrf52840-mdk/examples/mynewt/blinky/bin/targets/nrf52_boot/app/apps/boot/boot.elf
Target successfully built: targets/nrf52_boot
</pre></div>

<p>Run the <code>newt build nrf52_blinky</code> command to build the Blinky application:</p>
<div class="codehilite"><pre><span></span>blinky$ newt build nrf52_blinky
Building target targets/nrf52_blinky
Assembling repos/mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk/src/arch/cortex_m4/gcc_startup_nrf52840.s
Compiling repos/mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk/src/sbrk.c
Compiling apps/blinky/src/main.c
Assembling repos/mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk/src/arch/cortex_m4/gcc_startup_nrf52_split.s
Compiling repos/mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk/src/hal_bsp.c
Compiling repos/apache-mynewt-core/hw/drivers/uart/src/uart.c
Compiling repos/apache-mynewt-core/hw/cmsis-core/src/cmsis_nvic.c
Compiling repos/apache-mynewt-core/hw/hal/src/hal_common.c
Compiling repos/apache-mynewt-core/hw/drivers/uart/uart_hal/src/uart_hal.c
Compiling repos/apache-mynewt-core/hw/hal/src/hal_flash.c
...
Archiving nrf52_blinky-sysinit-app.a
Archiving sys_flash_map.a
Archiving sys_mfg.a
Archiving sys_sysinit.a
Archiving util_mem.a
Linking /makerdiary/nrf52840-mdk/examples/mynewt/blinky/bin/targets/nrf52_blinky/app/apps/blinky/blinky.elf
Target successfully built: targets/nrf52_blinky
</pre></div>

<p>Run the <code>newt create-image nrf52_blinky 1.0.0</code> command to create and sign the application image. You may assign an arbitrary version (e.g. <code>1.0.0</code>) to the image.</p>
<div class="codehilite"><pre><span></span>blinky$ newt create-image nrf52_blinky <span class="m">1</span>.0.0
App image succesfully generated: /makerdiary/nrf52840-mdk/examples/mynewt/blinky/bin/targets/nrf52_blinky/app/apps/blinky/blinky.img
</pre></div>

<p>Everything goes well, now you can connect to the board and load the firmware:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>nRF52840-MDK supports OpenOCD debugger. OpenOCD version 0.10.0 with nrf52 support is required. A binary for this version is available to download for Mac OS, Linux, and Windows. Follow <a href="https://mynewt.apache.org/latest/os/get_started/cross_tools/#installing-openocd-on-mac-os">this guide</a> to install it.</p>
</div>
<p>Run the <code>newt load nrf52_boot</code> command to load the bootloader onto the board:</p>
<div class="codehilite"><pre><span></span>blinky$ newt load nrf52_boot
Loading bootloader
</pre></div>

<p>Run the <code>newt load nrf52_blinky</code> command to load the Blinky application image onto the board.</p>
<div class="codehilite"><pre><span></span>blinky$ newt load nrf52_blinky
Loading app image into slot <span class="m">1</span>
</pre></div>

<p>Observe that the GREEN LED is blinking:</p>
<p><img alt="" src="./images/mynewt_blinky_demo.gif" /></p>
<h2 id="create-your-first-project">Create Your First Project<a class="headerlink" href="#create-your-first-project" title="Permanent link">&para;</a></h2>
<h3 id="creating-a-new-project">Creating a New Project<a class="headerlink" href="#creating-a-new-project" title="Permanent link">&para;</a></h3>
<p>Choose a name for your project. We name the project <code>myproj</code>.</p>
<p>Run the newt new myproj command, from your <code>dev</code> directory, to create a new project:</p>
<div class="codehilite"><pre><span></span><span class="nv">$cd</span> ~/dev
$ newt new myproj
Downloading project skeleton from apache/mynewt-blinky...
Installing skeleton in myproj...
Project myproj successfully created.
</pre></div>

<p>The newt tool creates a project base directory name myproj. All newt tool commands are run from the project base directory. The newt tool populates this new project with a base skeleton of a new Apache Mynewt project in the project base directory. It has the following structure:</p>
<div class="codehilite"><pre><span></span>.
├── LICENSE
├── NOTICE
├── README.md
├── apps
│   └── blinky
│       ├── pkg.yml
│       └── src
│           └── main.c
├── project.yml
└── targets
    ├── my_blinky_sim
    │   ├── pkg.yml
    │   └── target.yml
    └── unittest
        ├── pkg.yml
        └── target.yml

<span class="m">6</span> directories, <span class="m">10</span> files
</pre></div>

<h3 id="fetching-external-packages">Fetching External Packages<a class="headerlink" href="#fetching-external-packages" title="Permanent link">&para;</a></h3>
<p>To fetch the package with board support for nRF52840-MDK from the <a href="https://github.com/makerdiary/mynewt_nrf52840_mdk">makerdiary/mynewt_nrf52840_mdk</a> git repository, you need to add the repository to the <code>project.yml</code> file in your base project directory.</p>
<p>Here is an example <code>project.yml</code> file with the <code>mynewt_nrf52840_mdk</code> repository added. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to set <code>vers</code> to <code>0-dev</code> and use the latest master branch for both repositories.</p>
</div>
<div class="codehilite"><pre><span></span>project.name: <span class="s2">&quot;myproj&quot;</span>

project.repositories:
    - apache-mynewt-core
    - mynewt_nrf52840_mdk

<span class="c1"># Use github&#39;s distribution mechanism for core ASF libraries.</span>
<span class="c1"># This provides mirroring automatically for us.</span>
<span class="c1">#</span>
repository.apache-mynewt-core:
    type: github
    vers: <span class="m">0</span>-dev
    user: apache
    repo: mynewt-core

<span class="c1"># a special repo to hold hardware specific stuff for nRF52840-MDK</span>
repository.mynewt_nrf52840_mdk:
    type: github
    vers: <span class="m">0</span>-dev
    user: makerdiary
    repo: mynewt_nrf52840_mdk
</pre></div>

<p>Install project dependencies using the <code>newt install</code> command:</p>
<div class="codehilite"><pre><span></span>myproj$ newt install
apache-mynewt-core successfully installed version <span class="m">0</span>.0.0-none
mynewt_nrf52840_mdk successfully installed version <span class="m">0</span>.0.0-none
</pre></div>

<h3 id="creating-the-targets">Creating the Targets<a class="headerlink" href="#creating-the-targets" title="Permanent link">&para;</a></h3>
<p>Create two targets for the nRF52840-MDK board - one for the bootloader and one for the your application.</p>
<p>Run the following <code>newt target</code> commands, from your project directory, to create a bootloader target. We name the target <code>nrf52_boot</code>:</p>
<div class="codehilite"><pre><span></span>myproj$ newt target create nrf52_boot
myproj$ newt target <span class="nb">set</span> nrf52_boot <span class="nv">app</span><span class="o">=</span>@apache-mynewt-core/apps/boot
myproj$ newt target <span class="nb">set</span> nrf52_boot <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
myproj$ newt target <span class="nb">set</span> nrf52_boot <span class="nv">build_profile</span><span class="o">=</span>optimized
</pre></div>

<p>Run the following <code>newt target</code> commands to create a target for the Blinky application. We name the target <code>nrf52_blinky</code>.</p>
<div class="codehilite"><pre><span></span>myproj$ newt target create nrf52_blinky
myproj$ newt target <span class="nb">set</span> nrf52_blinky <span class="nv">app</span><span class="o">=</span>apps/blinky
myproj$ newt target <span class="nb">set</span> nrf52_blinky <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
myproj$ newt target <span class="nb">set</span> nrf52_blinky <span class="nv">build_profile</span><span class="o">=</span>debug
</pre></div>

<p>You can run the <code>newt target show</code> command to verify the target settings:</p>
<div class="codehilite"><pre><span></span>myproj$ newt target show
targets/my_blinky_sim
    <span class="nv">app</span><span class="o">=</span>apps/blinky
    <span class="nv">bsp</span><span class="o">=</span>@apache-mynewt-core/hw/bsp/native
    <span class="nv">build_profile</span><span class="o">=</span>debug
targets/nrf52_blinky
    <span class="nv">app</span><span class="o">=</span>apps/blinky
    <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
    <span class="nv">build_profile</span><span class="o">=</span>debug
targets/nrf52_boot
    <span class="nv">app</span><span class="o">=</span>@apache-mynewt-core/apps/boot
    <span class="nv">bsp</span><span class="o">=</span>@mynewt_nrf52840_mdk/hw/bsp/nrf52840_mdk
    <span class="nv">build_profile</span><span class="o">=</span>optimized
</pre></div>

<h3 id="building-the-target-executables">Building the Target Executables<a class="headerlink" href="#building-the-target-executables" title="Permanent link">&para;</a></h3>
<p>Run the following commands to build the bootloader and application:</p>
<div class="codehilite"><pre><span></span>myproj$ newt build nrf52_boot
myproj$ newt build nrf52_blinky
</pre></div>

<h3 id="loading-the-images">Loading the images<a class="headerlink" href="#loading-the-images" title="Permanent link">&para;</a></h3>
<p>First run the <code>newt create-image nrf52_blinky 1.0.0</code> command to create and sign the application image. You may assign an arbitrary version (e.g. <code>1.0.0</code>) to the image.</p>
<div class="codehilite"><pre><span></span>myproj$ newt create-image nrf52_blinky <span class="m">1</span>.0.0
</pre></div>

<p>Run the <code>newt load nrf52_boot</code> command to load the bootloader onto the board:</p>
<div class="codehilite"><pre><span></span>myproj$ newt load nrf52_boot
Loading bootloader
</pre></div>

<p>Run the <code>newt load nrf52_blinky</code> command to load the Blinky application image onto the board.</p>
<div class="codehilite"><pre><span></span>myproj$ newt load nrf52_blinky
Loading app image into slot <span class="m">1</span>
</pre></div>

<p>Now observe if the application is running in the right way.</p>
<h2 id="explore-other-mynewt-os-features">Explore other Mynewt OS Features<a class="headerlink" href="#explore-other-mynewt-os-features" title="Permanent link">&para;</a></h2>
<p>Congratulations! You have created your first project! Apache Mynewt has a lot more functionality. Over time, more example applications will be added to the repository. You can star or watch the <a href="https://github.com/makerdiary/nrf52840-mdk">nrf52840-mdk</a> repository to stay up to date.</p>
<p>Happy Hacking!</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://mynewt.apache.org/">Apache Mynewt Official site</a></li>
<li><a href="https://mynewt.apache.org/documentation/">Apache Mynewt Documentation</a></li>
<li><a href="https://github.com/apache/mynewt-core">Apache/mynewt-core repository</a></li>
</ul>
<h2 id="create-an-issue">Create an Issue<a class="headerlink" href="#create-an-issue" title="Permanent link">&para;</a></h2>
<p>Interested in contributing to this project? Want to report a bug? Feel free and click here:</p>
<p><a href="https://github.com/makerdiary/nrf52840-mdk/issues/new"><button data-md-color-primary="marsala"><i class="fa fa-github"></i> Create an Issue</button></a></p>
                
                  
                
              
              
                


              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="discourse-comments"></div>
  <script>DiscourseEmbed={discourseUrl:"https://community.makerdiary.co/",discourseEmbedUrl:"https://wiki.makerdiary.com/nrf52840-mdk/mynewt/"},function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=DiscourseEmbed.discourseUrl+"javascripts/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../zephyr/" title="Zephyr" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Zephyr
              </span>
            </div>
          </a>
        
        
          <a href="../daplink/" title="DAPLink" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                DAPLink
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://makerdiary.com">makerdiary.com</a>
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://makerdiary.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/makerdiary" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/makerdiary" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/makerdiary" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.daa92ae3.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-54344624-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>