



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Micro Development Kit for IoT Applications using nRF52840 SoC">
      
      
        <link rel="canonical" href="https://wiki.makerdiary.co/nrf52840-mdk/zephyr/">
      
      
        <meta name="author" content="makerdiary">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.7.3">
    
    
      
        <title>Zephyr - nRF52840-MDK Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.c61db26e.css">
      
    
    
      <script src="../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="marsala" data-md-color-accent="marsala">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#zephyr-a-small-scalable-open-source-rtos-for-internet-of-things-embedded-devices" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://wiki.makerdiary.co/nrf52840-mdk/" title="nRF52840-MDK Documentation" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                nRF52840-MDK Documentation
              </span>
              <span class="md-header-nav__topic">
                Zephyr
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/makerdiary/nrf52840-mdk" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      makerdiary/nrf52840-mdk
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Introduction" class="md-tabs__link md-tabs__link--active">
        Introduction
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../cn/" title="中文文档" class="md-tabs__link">
          中文文档
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/logo.svg" width="48" height="48">
      
    </span>
    nRF52840-MDK Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/makerdiary/nrf52840-mdk" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      makerdiary/nrf52840-mdk
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../nrf5-sdk/" title="nRF5 SDK" class="md-nav__link">
      nRF5 SDK
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mesh/" title="nRF5 SDK for Mesh" class="md-nav__link">
      nRF5 SDK for Mesh
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../openthread/" title="OpenThread" class="md-nav__link">
      OpenThread
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mbedos/" title="Arm Mbed OS" class="md-nav__link">
      Arm Mbed OS
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Zephyr
      </label>
    
    <a href="./" title="Zephyr" class="md-nav__link md-nav__link--active">
      Zephyr
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distinguishing-features" title="Distinguishing Features" class="md-nav__link">
    Distinguishing Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-out-the-repository" title="Checking out the repository" class="md-nav__link">
    Checking out the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-development-environment" title="Setting up the development environment" class="md-nav__link">
    Setting up the development environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#windows" title="Windows" class="md-nav__link">
    Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" title="macOS" class="md-nav__link">
    macOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linux" title="Linux" class="md-nav__link">
    Linux
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-nrf52840-mdk" title="Adding support for nRF52840-MDK" class="md-nav__link">
    Adding support for nRF52840-MDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compiling-and-running-an-example" title="Compiling and running an example" class="md-nav__link">
    Compiling and running an example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-examples" title="More examples" class="md-nav__link">
    More examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-issue" title="Create an Issue" class="md-nav__link">
    Create an Issue
  </a>
  
</li>
      
      
      
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mynewt/" title="Mynewt" class="md-nav__link">
      Mynewt
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../daplink/" title="DAPLink" class="md-nav__link">
      DAPLink
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how-to-buy/" title="How to Buy" class="md-nav__link">
      How to Buy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../CONTRIBUTING/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../LICENSE/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      中文文档
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        中文文档
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/" title="简介" class="md-nav__link">
      简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/getting-started/" title="快速入门" class="md-nav__link">
      快速入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/nrf5-sdk/" title="nRF5 SDK" class="md-nav__link">
      nRF5 SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mesh/" title="nRF5 SDK for Mesh" class="md-nav__link">
      nRF5 SDK for Mesh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/openthread/" title="OpenThread" class="md-nav__link">
      OpenThread
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mbedos/" title="Arm Mbed OS" class="md-nav__link">
      Arm Mbed OS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/zephyr/" title="Zephyr" class="md-nav__link">
      Zephyr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/mynewt/" title="Mynewt" class="md-nav__link">
      Mynewt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/daplink/" title="DAPLink" class="md-nav__link">
      DAPLink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/how-to-buy/" title="如何购买" class="md-nav__link">
      如何购买
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/CONTRIBUTING/" title="反馈&贡献" class="md-nav__link">
      反馈&贡献
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cn/LICENSE/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distinguishing-features" title="Distinguishing Features" class="md-nav__link">
    Distinguishing Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-out-the-repository" title="Checking out the repository" class="md-nav__link">
    Checking out the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-development-environment" title="Setting up the development environment" class="md-nav__link">
    Setting up the development environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#windows" title="Windows" class="md-nav__link">
    Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" title="macOS" class="md-nav__link">
    macOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linux" title="Linux" class="md-nav__link">
    Linux
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-nrf52840-mdk" title="Adding support for nRF52840-MDK" class="md-nav__link">
    Adding support for nRF52840-MDK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compiling-and-running-an-example" title="Compiling and running an example" class="md-nav__link">
    Compiling and running an example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-examples" title="More examples" class="md-nav__link">
    More examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" title="Reference" class="md-nav__link">
    Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-an-issue" title="Create an Issue" class="md-nav__link">
    Create an Issue
  </a>
  
</li>
      
      
      
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="zephyr-a-small-scalable-open-source-rtos-for-internet-of-things-embedded-devices">Zephyr <br><small>A Small, Scalable Open Source RTOS for Internet of Things Embedded Devices</small><a class="headerlink" href="#zephyr-a-small-scalable-open-source-rtos-for-internet-of-things-embedded-devices" title="Permanent link">&para;</a></h1>
<p><a href="https://www.zephyrproject.org/"><img alt="" src="./images/zephyr-logo.png" /></a></p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The Zephyr OS is based on a small-footprint kernel designed for use on resource-constrained systems: from simple embedded environmental sensors and LED wearables to sophisticated smart watches and IoT wireless gateways.</p>
<p>The Zephyr kernel supports multiple architectures, including ARM Cortex-M, Intel x86, ARC, NIOS II, Tensilica Xtensa, and RISC-V. </p>
<h2 id="distinguishing-features">Distinguishing Features<a class="headerlink" href="#distinguishing-features" title="Permanent link">&para;</a></h2>
<p>The Zephyr kernel offers a number of features that distinguish it from other small-footprint OSes:</p>
<ul>
<li>Single address-space</li>
<li>Highly configurable / Modular for flexibility</li>
<li>Cross Architecture</li>
<li>Compile-time resource definition</li>
<li>Minimal and Configurable error checking</li>
<li>Memory Protection</li>
<li>Native Networking Stack supporting multiple protocols</li>
<li>Native Linux, macOS, and Windows Development</li>
<li>Extensive suite of services</li>
</ul>
<p>For more details, please visit <a href="https://www.zephyrproject.org/">Zephyr Project</a> site.</p>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<h3 id="checking-out-the-repository">Checking out the repository<a class="headerlink" href="#checking-out-the-repository" title="Permanent link">&para;</a></h3>
<p>Clone the <a href="https://github.com/zephyrproject-rtos/zephyr">Zephyr Project</a> repository on GitHub or download it as a zip package and put its contents to your working directory.</p>
<div class="codehilite"><pre><span></span>$ git clone https://github.com/zephyrproject-rtos/zephyr.git
</pre></div>

<h3 id="setting-up-the-development-environment">Setting up the development environment<a class="headerlink" href="#setting-up-the-development-environment" title="Permanent link">&para;</a></h3>
<p>The Zephyr project uses <a href="https://cmake.org/">CMake</a> as a tool for managing the building of the project. CMake is able to generate build files in different formats (also known as “generators”), and the following ones are currently supported by Zephyr:</p>
<ul>
<li><code>make</code>: Supported on UNIX-like platforms (Linux, macOS).</li>
<li><code>ninja</code>: Supported on all platforms.</li>
</ul>
<p>The setup process for the development environment depends on your operating system. Please choose your host operating system. The setup instructions for each operating system walk you through how to set up the development environment.</p>
<h4 id="windows">Windows<a class="headerlink" href="#windows" title="Permanent link">&para;</a></h4>
<p>The easiest way to install the dependencies natively on Microsoft Windows is to use the Chocolatey package manager (<a href="https://chocolatey.org/">Chocolatey website</a>). </p>
<ol>
<li>
<p>Install Chocolatey by following the instructions on the <a href="https://chocolatey.org/install">Chocolatey install</a> website.</p>
</li>
<li>
<p>Open a Command Prompt (cmd.exe) as an <strong>Administrator</strong>.</p>
</li>
<li>
<p>Optionally disable global confirmation to avoid having to add -y to all commands:</p>
<div class="codehilite"><pre><span></span>$ choco feature <span class="nb">enable</span> -n allowGlobalConfirmation
</pre></div>

</li>
<li>
<p>Install CMake:</p>
<div class="codehilite"><pre><span></span>$ choco install cmake --installargs <span class="s1">&#39;ADD_CMAKE_TO_PATH=System&#39;</span>
</pre></div>

</li>
<li>
<p>Install the rest of the tools:</p>
<div class="codehilite"><pre><span></span>$ choco install git python ninja dtc-msys2 gperf
</pre></div>

</li>
<li>
<p>Close the Command Prompt window.</p>
</li>
<li>
<p>Open a Command Prompt (cmd.exe) as a regular user.</p>
</li>
<li>
<p>Install the required Python modules:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> ./zephyr
$ pip install --user -r scripts/requirements.txt
$ pip2 install --user -r scripts/py2-requirements.txt
</pre></div>

</li>
<li>
<p>Download and install the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">GNU Arm Embedded Toolchain</a> (install to <code>c:\gccarmemb</code>).</p>
</li>
<li>
<p>Within the Command Prompt, set up environment variables for the installed tools and for the Zephyr environment:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">set</span> <span class="nv">ZEPHYR_TOOLCHAIN_VARIANT</span><span class="o">=</span>gccarmemb
$ <span class="nb">set</span> <span class="nv">GCCARMEMB_TOOLCHAIN_PATH</span><span class="o">=</span>c:<span class="se">\g</span>ccarmemb
</pre></div>

</li>
</ol>
<h4 id="macos">macOS<a class="headerlink" href="#macos" title="Permanent link">&para;</a></h4>
<p>First, install the <em>Homebrew</em> (The missing package manager for macOS). Homebrew is a free and open-source software package management system that simplifies the installation of software on Apple’s macOS operating system.</p>
<p>To install Homebrew, visit the <a href="http://brew.sh/">Homebrew site</a> and follow the installation instructions on the site.</p>
<p>After Homebrew was successfully installed, install the following tools using the brew command line:</p>
<div class="codehilite"><pre><span></span>$ brew install cmake ninja dfu-util doxygen qemu dtc python3 gperf
$ curl -O <span class="s1">&#39;https://bootstrap.pypa.io/get-pip.py&#39;</span>
$ ./get-pip.py
$ rm get-pip.py
$ <span class="nb">cd</span> ~/zephyr   <span class="c1"># or to the folder where you cloned the zephyr repo</span>
$ pip3 install --user -r scripts/requirements.txt
$ pip2 install --user -r scripts/py2-requirements.txt
</pre></div>

<p>Download and install the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">GNU Arm Embedded Toolchain</a>. Then make sure to add the path to your toolchain to your OS PATH environment variable:</p>
<div class="codehilite"><pre><span></span><span class="c1"># add the following scripts to ~/.bash_profile </span>
<span class="nb">export</span> <span class="nv">GCCARMEMB_TOOLCHAIN_PATH</span><span class="o">=</span><span class="s2">&quot;&lt;path to install directory&gt;/gcc-arm-none-eabi-6-2017-q2-update&quot;</span>
<span class="nb">export</span> <span class="nv">ZEPHYR_GCC_VARIANT</span><span class="o">=</span>gccarmemb
</pre></div>

<h4 id="linux">Linux<a class="headerlink" href="#linux" title="Permanent link">&para;</a></h4>
<p>Before proceeding with the build, ensure your OS is up to date. On Ubuntu, you’ll first need to update the local database list of available packages before upgrading:</p>
<div class="codehilite"><pre><span></span>$ sudo apt-get update
$ sudo apt-get upgrade
</pre></div>

<p>Install the required packages in a Ubuntu host system with:</p>
<div class="codehilite"><pre><span></span>$ sudo apt-get install --no-install-recommends git cmake ninja-build gperf <span class="se">\</span>
  ccache doxygen dfu-util device-tree-compiler <span class="se">\</span>
  python3-ply python3-pip python3-setuptools xz-utils file make gcc-multilib <span class="se">\</span>
  autoconf automake libtool
</pre></div>

<p>Install additional packages required for development with Zephyr:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> ~/zephyr  <span class="c1"># or to your directory where zephyr is cloned</span>
$ pip3 install --user -r scripts/requirements.txt
$ pip2 install --user -r scripts/py2-requirements.txt
</pre></div>

<p>Download and install the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">GNU Arm Embedded Toolchain</a>. Then make sure to add the path to your toolchain to your OS PATH environment variable:</p>
<div class="codehilite"><pre><span></span><span class="c1"># add the following scripts to ~/.bash_profile </span>
<span class="nb">export</span> <span class="nv">GCCARMEMB_TOOLCHAIN_PATH</span><span class="o">=</span><span class="s2">&quot;&lt;path to install directory&gt;/gcc-arm-none-eabi-6-2017-q2-update&quot;</span>
<span class="nb">export</span> <span class="nv">ZEPHYR_GCC_VARIANT</span><span class="o">=</span>gccarmemb
</pre></div>

<h3 id="adding-support-for-nrf52840-mdk">Adding support for nRF52840-MDK<a class="headerlink" href="#adding-support-for-nrf52840-mdk" title="Permanent link">&para;</a></h3>
<p>To add support for nRF52840-MDK, you must add the board support files. This should give you the following folder structure:</p>
<div class="codehilite"><pre><span></span>.zephyr/boards/arm/nrf52840_mdk
├── Kconfig
├── Kconfig.board
├── Kconfig.defconfig
├── board.cmake
├── board.h
├── nrf52840_mdk.dts
├── nrf52840_mdk.yaml
└── nrf52840_mdk_defconfig
</pre></div>

<p>Alternatively, you can checkout the patch from <a href="https://github.com/makerdiary/zephyr">makerdiary/zephyr</a>:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> &lt;zephyr git clone location&gt;
$ git remote add makerdiary https://github.com/makerdiary/zephyr.git
$ git pull makerdiary master
</pre></div>

<h3 id="compiling-and-running-an-example">Compiling and running an example<a class="headerlink" href="#compiling-and-running-an-example" title="Permanent link">&para;</a></h3>
<p>Now you can try to build one of the examples. Will use the <code>hello_world</code> example here to keep it simple.</p>
<p>Source <code>zephyr-env.sh</code> wherever you have cloned the Zephyr Git repository:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">unset</span> ZEPHYR_SDK_INSTALL_DIR
$ <span class="nb">cd</span> &lt;zephyr git clone location&gt;
$ <span class="nb">source</span> zephyr-env.sh
</pre></div>

<p>Create a <code>build</code> folder in the example directory, where all artifacts generated by the Ninja build system are stored, such as:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> nrf52840-mdk/examples/zephyr/hello_world/
$ mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build

build$ cmake -GNinja -DBOARD<span class="o">=</span>nrf52840_mdk ..
build$ ninja
build$ ninja flash
</pre></div>

<p><img alt="" src="./images/hello_world_ninja_building.png" /></p>
<p>Check the board output from serial port, you will see the following messages:</p>
<div class="codehilite"><pre><span></span>***** Booting Zephyr OS <span class="m">1</span>.12.0-rc3 *****
Hello World! arm
</pre></div>

<p>That's it! You can also try other examples in the path <code>nrf52840-mdk/examples/zephyr/</code>.</p>
<h2 id="more-examples">More examples<a class="headerlink" href="#more-examples" title="Permanent link">&para;</a></h2>
<p>Over time, more example applications will be added to the repository. You can star or watch the <a href="https://github.com/makerdiary/nrf52840-mdk">nrf52840-mdk</a> repository to stay up to date.</p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://www.zephyrproject.org/">Zephyr Project site</a></li>
<li><a href="http://docs.zephyrproject.org/index.html">Zephyr Project Documentation</a></li>
<li><a href="https://github.com/zephyrproject-rtos/zephyr">zephyrproject-rtos/zephyr repository</a></li>
</ul>
<h2 id="create-an-issue">Create an Issue<a class="headerlink" href="#create-an-issue" title="Permanent link">&para;</a></h2>
<p>Interested in contributing to this project? Want to report a bug? Feel free and click here:</p>
<p><a href="https://github.com/makerdiary/nrf52840-mdk/issues/new"><button data-md-color-primary="marsala"><i class="fa fa-github"></i> Create an Issue</button></a></p>
                
                  
                
              
              
                


              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="discourse-comments"></div>
  <script>DiscourseEmbed={discourseUrl:"https://community.makerdiary.co/",discourseEmbedUrl:"https://wiki.makerdiary.co/nrf52840-mdk/zephyr/"},function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=DiscourseEmbed.discourseUrl+"javascripts/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mbedos/" title="Arm Mbed OS" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Arm Mbed OS
              </span>
            </div>
          </a>
        
        
          <a href="../mynewt/" title="Mynewt" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mynewt
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="https://makerdiary.com">makerdiary.com</a>
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://makerdiary.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/makerdiary" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/makerdiary" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/makerdiary" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.edf82dcc.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-54344624-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>